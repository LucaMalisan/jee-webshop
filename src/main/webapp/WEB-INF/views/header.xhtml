<div class="small-margin row-big-space" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">
    <img src="#{request.contextPath}/resources/logo.png" class="logo" id="logo"/>

    <div class="row-small-space low-height fill-up">
        <h:selectOneMenu id="category" value="#{categoryController.getSelectedMainCategory(request).getUuid().toString()}">
            <f:selectItem itemValue="" itemLabel="All Categories"/>
            <f:selectItems value="#{categoryController.categories}"/>
        </h:selectOneMenu>
        <input type="text" id="search" class="fill-up" value="#{request.getParameter('query')}"/>
        <button type="submit" id="submit" redirectTo="#{request.contextPath}/application"> Search</button>
    </div>

    <c:choose>
        <c:when test="#{articleController.getCookieByName(request, 'com.auth0.state') != null}">
            <span class="material-symbols-outlined">person</span>
            <h:outputText value="#{articleController.getCookieByName(request, 'name')}"/>
        </c:when>
        <c:otherwise>
            <a href="#{request.contextPath}/application/login" id="user">
                <span class="material-symbols-outlined">person</span>
                <p> Login </p>
            </a>
        </c:otherwise>
    </c:choose>


    <a href="" id="go-to-cart"><span class="material-symbols-outlined big-icon">shopping_cart</span></a>

    <script>
      document.getElementById("submit").addEventListener("click", evt => {
        let value = document.getElementById("category").selectedOptions[0].value;
        let query = document.getElementById("search").value;
        let pathWithoutParams = location.origin + location.pathname;

        let searchParams = new URLSearchParams();
        searchParams.set("categoryUuid", value);
        searchParams.set("query", query);
        searchParams.set("page", "1");

        location.assign(pathWithoutParams + "?" + searchParams.toString())
      });

    </script>
</div>