<div class="small-margin row-big-space" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core">
    <img src="#{request.contextPath}/resources/logo.png" class="logo" id="logo"/>

    <div class="row-small-space low-height fill-up">
        <h:selectOneMenu id="category" value="#{categoryController.getSelectedMainCategory(request).getUuid().toString()}">
            <f:selectItem itemValue="" itemLabel="All Categories"/>
            <f:selectItems value="#{categoryController.categories}"/>
        </h:selectOneMenu>
        <input type="text" id="search" class="fill-up" value="#{request.getParameter('query')}"/>
        <button type="submit" id="submit" redirectTo="#{request.contextPath}/application"> Search</button>
    </div>
    <a href="" id="go-to-cart"><span class="material-symbols-outlined big-icon">shopping_cart</span></a>

    <script>

      document.getElementById("submit").addEventListener("click", evt => {
        let value = document.getElementById("category").selectedOptions[0].value;
        let query = document.getElementById("search").value;
        let pathWithoutParams = location.origin + location.pathname;
        let searchParams = new URLSearchParams(location.search);

        searchParams.set("categoryUuid", value);
        searchParams.set("query", query);
        searchParams.set("page", "1");

        location.assign(pathWithoutParams + "?" + searchParams.toString())
      });

    </script>
</div>